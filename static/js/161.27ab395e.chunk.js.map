{"version":3,"file":"static/js/161.27ab395e.chunk.js","mappings":"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","sources":["components/Footer/Footer.js"],"sourcesContent":["import React from \"react\";\nimport './Footer.css';\nimport logo from '../../images/logo.png'\n\nfunction Footer({ lists, countOfPerson, logisticsCost, isWithinMkad, GetPrice }) {\n  const numberOfPersons = parseInt(countOfPerson, 10);\n\n  // Функция для расчета итогового веса и цены\n  const calculateTotals = (lists) => {\n    const totals = {\n      byType: {\n        eat: { totalWeight: 0, totalPrice: 0 },\n        drink: { totalWeight: 0, totalPrice: 0 },\n        organisation: { totalPrice: 0 }\n      },\n      totalPrice: 0\n    };\n\n    lists.forEach(productGroup => {\n      productGroup.rows.forEach(product => {\n        const { productWeight, priceOfProduct, countOfProduct, typeOfProduct } = product;\n\n        if (priceOfProduct && countOfProduct) {\n          totals.totalPrice += priceOfProduct * countOfProduct; // Рассчитать итоговую цену\n\n          // Обработка для типов eat и drink\n          if (typeOfProduct === 'eat' && productWeight) {\n            const totalWeightForType = productWeight * countOfProduct;\n            totals.byType.eat.totalWeight += totalWeightForType;\n            totals.byType.eat.totalPrice += priceOfProduct * countOfProduct;\n          } else if (typeOfProduct === 'drink' && productWeight) {\n            const totalWeightForType = productWeight * countOfProduct;\n            totals.byType.drink.totalWeight += totalWeightForType;\n            totals.byType.drink.totalPrice += priceOfProduct * countOfProduct;\n          } else if (typeOfProduct === 'organisation') {\n            totals.byType.organisation.totalPrice += priceOfProduct * countOfProduct;\n          }\n        }\n      });\n    });\n\n    // Расчет веса на персону\n    if (numberOfPersons > 0) {\n      totals.byType.eat.totalWeightByPerson = (totals.byType.eat.totalWeight / numberOfPersons) || 0;\n      totals.byType.drink.totalWeightByPerson = (totals.byType.drink.totalWeight / numberOfPersons) || 0;\n    } else {\n      totals.byType.eat.totalWeightByPerson = 0;\n      totals.byType.drink.totalWeightByPerson = 0;\n    }\n\n    return totals;\n  };\n\n  const totals = calculateTotals(lists);\n\n  return (\n    <section className=\"footer\">\n      <div className=\"list list_footer\">\n        <div className=\"footer__logo-container\">\n          <img className=\"logo\" src={logo} alt='logo' />\n        </div>\n        <div className=\"footer__count-container\">\n          <h2 className=\"list__title footer__title\">Расчёт:</h2>\n          <p className=\"table__line tabel__line_product\">\n            Выход на персону: {(totals.byType.eat.totalWeightByPerson > 0 && totals.byType.drink.totalWeightByPerson > 0) && (\n              <span className=\"tabel__line tabel__line_composition-of-product\">\n                еда / напитки - {Math.round(totals.byType.eat.totalWeightByPerson)}гр / {Math.round(totals.byType.drink.totalWeightByPerson)}мл\n              </span>\n            )}\n            {(totals.byType.eat.totalWeightByPerson > 0 && totals.byType.drink.totalWeightByPerson === 0) && (\n              <span className=\"tabel__line tabel__line_composition-of-product\">\n                еда - {Math.round(totals.byType.eat.totalWeightByPerson)}гр\n              </span>\n            )}\n            {(totals.byType.eat.totalWeightByPerson === 0 && totals.byType.drink.totalWeightByPerson > 0) && (\n              <span className=\"tabel__line tabel__line_composition-of-product\">\n                напитки - {Math.round(totals.byType.drink.totalWeightByPerson)}мл\n              </span>\n            )}\n          </p>\n          {/* <p className=\"table__line tabel__line_product\">\n            Выход на персону:\n            <span className=\"tabel__line tabel__line_composition-of-product\"> еда / напитки - {(totals.byType.eat.totalWeightByPerson > 0) ? Math.round(totals.byType.eat.totalWeightByPerson) : ''}гр / {(totals.byType.drink.totalWeightByPerson > 0) ? Math.round(totals.byType.drink.totalWeightByPerson) : ''}мл</span>\n          </p> */}\n          <div className=\"calculation\">\n            <ul className=\"totalKp\">\n              {totals.byType.eat && totals.byType.eat.totalPrice !== 0 && (\n                <li className=\"total row_count footer__row\">\n                  <span className=\"table__line tabel__line_product\">- Еда</span>\n                  {' - ' + GetPrice(totals.byType.eat.totalPrice)}\n                </li>\n              )}\n              {totals.byType.drink && totals.byType.drink.totalPrice !== 0 && (\n                <li className=\"total row_count footer__row\">\n                  <span className=\"table__line tabel__line_product\">- Напитки</span>\n                  {' - ' + GetPrice(totals.byType.drink.totalPrice)}\n                </li>\n              )}\n              {totals.byType.organisation && totals.byType.organisation.totalPrice !== 0 && (\n                <li className=\"total row_count footer__row\">\n                  <span className=\"table__line tabel__line_product\">- Организация кейтеринга</span>\n                  {' - ' + GetPrice(totals.byType.organisation.totalPrice)}\n                </li>\n              )}\n              {(logisticsCost !== 0) && (\n                <li className=\"total row_count footer__row\">\n                  {isWithinMkad ? (\n                    <span className=\"table__line tabel__line_product\">- Логистика в пределах МКАД + монтаж / демонтаж</span>\n                  ) : (\n                    <span className=\"table__line tabel__line_product\">- Логистика за пределами МКАД + монтаж / демонтаж</span>\n                  )}\n                  {' - ' + GetPrice(logisticsCost)}\n                </li>\n              )}\n            </ul>\n          </div>\n          <div className=\"totalCount\">\n            <p className=\"totalAlCash  row_count\">\n              <span className=\"table__line tabel__line_product\">Итого: </span>\n              {(totals.totalPrice) ? GetPrice(totals.totalPrice + logisticsCost) : ''}</p>\n            <p className=\"totalAl  row_count\">\n              <span className=\"table__line tabel__line_product\">Итого по безналичному расчёту: </span>\n              {(totals.totalPrice) ? GetPrice(Math.round((totals.totalPrice + logisticsCost) * 1.07)) : ''}</p>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default Footer;"],"names":["_ref","lists","countOfPerson","logisticsCost","isWithinMkad","GetPrice","numberOfPersons","parseInt","totals","byType","eat","totalWeight","totalPrice","drink","organisation","forEach","productGroup","rows","product","productWeight","priceOfProduct","countOfProduct","typeOfProduct","totalWeightForType","totalWeightByPerson","calculateTotals","_jsx","className","children","_jsxs","src","logo","alt","Math","round"],"sourceRoot":""}